<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rp X Juta Pertama</title>
    <!-- Include Tailwind CSS -->
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-gray-100 min-h-screen flex items-center justify-center">

    <div class="w-full max-w-md p-6 bg-white rounded-lg shadow-md">

	    <div class="flex justify-start mb-4">
            <a href="../index.html" class="inline-block">
                <button class="bg-blue-500 text-white px-4 py-2 rounded-lg transition duration-300 hover:bg-blue-600">&lt;</button>
            </a>
        </div>

        <h2 class="text-lg font-semibold mb-4">Rp X Juta Pertama</h2>

        <form id="calculationForm">
            <div class="relative mb-4">
                <label for="startAge" class="block text-sm font-medium text-gray-700">Mulai di umur berapa?</label>
                 <div class="flex items-center">
                    <button id="decrementStartAge" class="px-3 py-2 border rounded-l-lg bg-gray-100 hover:bg-gray-200 focus:outline-none">
                        <span class="text-gray-700">-</span>
                    </button>
                    <input
                        type="number"
                        id="startAge"
                        name="startAge"
                        class="flex-1 py-2 px-4 bg-gray-100 border border-gray-300 appearance-none focus:outline-none focus:border-blue-500"
                        min="1"
			value="18"
                        required
                    />
                    <button id="incrementStartAge" class="px-3 py-2 border rounded-r-lg bg-gray-100 hover:bg-gray-200 focus:outline-none">
                        <span class="text-gray-700">+</span>
                    </button>
                </div>
	    </div>

            <div class="relative mb-4">
                <label for="savingPerMonth" class="block text-sm font-medium text-gray-700">Tiap bulan nabung berapa (Rp)?</label>
		<div class="flex items-center">
                    <button id="decrementSavingPerMonth" class="px-3 py-2 border rounded-l-lg bg-gray-100 hover:bg-gray-200 focus:outline-none">
                        <span class="text-gray-700">-</span>
                    </button>
                    <input
                        type="number"
                        id="savingPerMonth"
                        name="savingPerMonth"
                        class="flex-1 py-2 px-4 bg-gray-100 border border-gray-300 appearance-none focus:outline-none focus:border-blue-500"
                        min="1"
			value="1000000"
                        required
                    />
                    <button id="incrementSavingPerMonth" class="px-3 py-2 border rounded-r-lg bg-gray-100 hover:bg-gray-200 focus:outline-none">
                        <span class="text-gray-700">+</span>
                    </button>
                </div> 
            </div>

            <div class="relative mb-4">
                <label for="accumulatedTarget" class="block text-sm font-medium text-gray-700">Target tabungan (Rp)?</label>
                <input
                    type="number"
                    id="accumulatedTarget"
                    name="accumulatedTarget"
                    class="block w-full py-2 px-4 bg-gray-100 border border-gray-300 rounded-lg appearance-none focus:outline-none focus:border-blue-500"
                    min="1"
		    value="100000000"
                    required
                />
            </div>
        </form>

        <div id="result" class="text-lg mt-4"></div>

    </div>

    <script>
        const form = document.getElementById('calculationForm');
        const startAgeInput = document.getElementById('startAge');
        const savingPerMonthInput = document.getElementById('savingPerMonth');
        const accumulatedTargetInput = document.getElementById('accumulatedTarget');
        const resultOutput = document.getElementById('result');

	// startAge control
	const decrementStartAgeButton = document.getElementById('decrementStartAge');
        const incrementStartAgeButton = document.getElementById('incrementStartAge');

	decrementStartAgeButton.addEventListener('click', function(event) {
		event.preventDefault();
		decrementStartAge();
		calculateResult();
	});

	incrementStartAgeButton.addEventListener('click', function(event) {
		event.preventDefault();
		incrementStartAge();
		calculateResult();
	});


        function decrementStartAge() {
            let currentValue = parseInt(startAgeInput.value);
            if (!isNaN(currentValue)) {
                currentValue = Math.max(currentValue - 1, 1);
                startAgeInput.value = currentValue;
            }
        }

        function incrementStartAge() {
            let currentValue = parseInt(startAgeInput.value);
            if (!isNaN(currentValue)) {
                currentValue = currentValue + 1;
                startAgeInput.value = currentValue;
            }
        }

	// savingPerMonth control
	const decrementSavingPerMonthButton = document.getElementById('decrementSavingPerMonth');
        const incrementSavingPerMonthButton = document.getElementById('incrementSavingPerMonth');

	decrementSavingPerMonthButton.addEventListener('click', function(event) {
		event.preventDefault();
		decrementSavingPerMonth();
		calculateResult();
	});

	incrementSavingPerMonthButton.addEventListener('click', function(event) {
		event.preventDefault();
		incrementSavingPerMonth();
		calculateResult();
	});


        function decrementSavingPerMonth() {
            let currentValue = parseInt(savingPerMonthInput.value);
            if (!isNaN(currentValue)) {
                currentValue = Math.max(currentValue - 100000, 100000);
                savingPerMonthInput.value = currentValue;
            }
        }

        function incrementSavingPerMonth() {
            let currentValue = parseInt(savingPerMonthInput.value);
            if (!isNaN(currentValue)) {
                currentValue = currentValue + 100000;
                savingPerMonthInput.value = currentValue;
            }
        }



        form.addEventListener('input', calculateResult);


	// Calculate the result when the page loads with default values
    	window.addEventListener('load', calculateResult);

	function formatIDR(number) {
        	return new Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(number);
	}
        function calculateResult() {
            const startAge = parseInt(startAgeInput.value);
            const savingPerMonth = parseInt(savingPerMonthInput.value);
            const accumulatedTarget = parseInt(accumulatedTargetInput.value);

            if (!isNaN(startAge) && !isNaN(savingPerMonth) && !isNaN(accumulatedTarget)) {
                const result = Math.ceil(startAge + (accumulatedTarget / (savingPerMonth * 12)));
		    resultOutput.textContent = `Kamu akan memiliki tabungan sebesar ${formatIDR(accumulatedTarget)} pada umur ${result} tahun.`;
            } else {
                resultOutput.textContent = '';
            }
        }
    </script>

</body>
</html>

